# æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

æœ¬ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Wiz Codeæ¤œè¨¼ç’°å¢ƒã‚’æ‰‹å‹•ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

> **ğŸ“Œ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€ã¹ãã‚¿ã‚¤ãƒŸãƒ³ã‚°**
> ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚ã€åˆã‚ã¦ç’°å¢ƒã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹éš›ã«å¿…ãšèª­ã‚“ã§ãã ã•ã„ã€‚

> **ğŸ“– æ¬¡ã«èª­ã‚€ã¹ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
> - Windowsç’°å¢ƒã®æ–¹ â†’ [WINDOWS_SETUP_GUIDE.md](./WINDOWS_SETUP_GUIDE.md)
> - ãã®ä»–ã®æ–¹ â†’ [ENVIRONMENT_VARIABLES_GUIDE.md](./ENVIRONMENT_VARIABLES_GUIDE.md)

> **ğŸ”™ ã‚¬ã‚¤ãƒ‰ä¸€è¦§ã«æˆ»ã‚‹**
> [ã‚¬ã‚¤ãƒ‰ä¸€è¦§](./README.md)

---

## ğŸ—ºï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ å‰ææ¡ä»¶ç¢ºèª â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ‰€è¦æ™‚é–“: 5åˆ†
   â”œâ”€ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆGitHub, Wiz, AWSï¼‰
   â””â”€ ãƒ„ãƒ¼ãƒ«ï¼ˆNode.js, Git, Docker, AWS CLI, Terraformï¼‰

2ï¸âƒ£ GitHubç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ‰€è¦æ™‚é–“: 10åˆ†
   â”œâ”€ ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ/ãƒ•ã‚©ãƒ¼ã‚¯
   â”œâ”€ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥è¨­å®š
   â””â”€ GitHub Secretsè¨­å®š

3ï¸âƒ£ Wizèªè¨¼æƒ…å ±å–å¾—ã¨è¨­å®š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ‰€è¦æ™‚é–“: 10åˆ†
   â”œâ”€ Wizã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
   â”œâ”€ Wiz CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   â””â”€ èªè¨¼ãƒ†ã‚¹ãƒˆ

4ï¸âƒ£ AWSèªè¨¼æƒ…å ±å–å¾—ã¨è¨­å®šï¼ˆPhase 2ä»¥é™ï¼‰â–º æ‰€è¦æ™‚é–“: 15åˆ†
   â”œâ”€ IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
   â”œâ”€ AWS CLIè¨­å®š
   â””â”€ èªè¨¼ãƒ†ã‚¹ãƒˆ

5ï¸âƒ£ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— â”€â”€â”€â”€â”€â”€â”€â”€â–º æ‰€è¦æ™‚é–“: 15åˆ†
   â”œâ”€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   â””â”€ ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

6ï¸âƒ£ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ‰€è¦æ™‚é–“: 5-30åˆ†
   â”œâ”€ ã‚ªãƒ—ã‚·ãƒ§ãƒ³A: Docker Composeï¼ˆæ¨å¥¨ï¼‰
   â”œâ”€ ã‚ªãƒ—ã‚·ãƒ§ãƒ³B: ãƒ­ãƒ¼ã‚«ãƒ«PostgreSQL
   â””â”€ ã‚ªãƒ—ã‚·ãƒ§ãƒ³C: AWS RDSï¼ˆPhase 2ä»¥é™ï¼‰

7ï¸âƒ£ å‹•ä½œç¢ºèª â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º æ‰€è¦æ™‚é–“: 5åˆ†
   â”œâ”€ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰èµ·å‹•ç¢ºèª
   â”œâ”€ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•ç¢ºèª
   â””â”€ Wizã‚¹ã‚­ãƒ£ãƒ³ãƒ†ã‚¹ãƒˆ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆè¨ˆæ‰€è¦æ™‚é–“: ç´„1-2æ™‚é–“ï¼ˆPhase 1ã®ã¿ï¼‰                         â”‚
â”‚             ç´„2-3æ™‚é–“ï¼ˆå…¨Phaseï¼‰                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Phaseåˆ¥ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¦‚è¦

### Phase 1ã®ã¿å®Ÿæ–½ã™ã‚‹å ´åˆï¼ˆAWSä¸è¦ï¼‰

**å®Ÿæ–½ã™ã‚‹ã‚·ãƒŠãƒªã‚ª**: S01ï½S05ï¼ˆIDEçµ±åˆã€VCSçµ±åˆã€CI/CDçµ±åˆã€IaCã‚¹ã‚­ãƒ£ãƒ³ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¤œå‡ºï¼‰

**å¿…è¦ãªç’°å¢ƒ**:
- âœ… GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- âœ… Wizèªè¨¼æƒ…å ±
- âœ… ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆNode.js, Dockerï¼‰
- âŒ AWSç’°å¢ƒï¼ˆä¸è¦ï¼‰

**ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³**:
- [AWSèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š](#awsèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š) - ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®ã€Œã‚ªãƒ—ã‚·ãƒ§ãƒ³C: AWS RDSã€ - ã‚¹ã‚­ãƒƒãƒ—

### å…¨Phaseå®Ÿæ–½ã™ã‚‹å ´åˆï¼ˆAWSå¿…è¦ï¼‰

**å®Ÿæ–½ã™ã‚‹ã‚·ãƒŠãƒªã‚ª**: S01ï½S11ï¼ˆå…¨ã‚·ãƒŠãƒªã‚ªï¼‰

**å¿…è¦ãªç’°å¢ƒ**:
- âœ… GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- âœ… Wizèªè¨¼æƒ…å ±
- âœ… ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆNode.js, Dockerï¼‰
- âœ… AWSç’°å¢ƒï¼ˆECS/EKS, RDS, ECRï¼‰

**ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿæ–½**

---

## ç›®æ¬¡

1. [å‰ææ¡ä»¶](#å‰ææ¡ä»¶)
2. [GitHubç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#githubç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
3. [Wizèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š](#wizèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š)
4. [AWSèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š](#awsèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š)
5. [ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
6. [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
7. [å‹•ä½œç¢ºèª](#å‹•ä½œç¢ºèª)

---

## å‰ææ¡ä»¶

### å¿…é ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

- **GitHub**: ãƒªãƒã‚¸ãƒˆãƒªä½œæˆæ¨©é™ã‚’æŒã¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- **Wiz**: ãƒ†ãƒŠãƒ³ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ï¼ˆService Accountã¾ãŸã¯Userï¼‰
- **AWS**: ECS/EKSç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã‚‹æ¨©é™ã‚’æŒã¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### å¿…é ˆãƒ„ãƒ¼ãƒ«

ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼š

```bash
# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªã‚³ãƒãƒ³ãƒ‰
node --version      # v18.x ä»¥ä¸Š
npm --version       # v9.x ä»¥ä¸Š
git --version       # v2.x ä»¥ä¸Š
docker --version    # v20.x ä»¥ä¸Š
aws --version       # AWS CLI v2.x ä»¥ä¸Š
terraform --version # v1.6.x ä»¥ä¸Š
```

**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•**:
- Node.js: https://nodejs.org/
- Git: https://git-scm.com/
- Docker Desktop: https://www.docker.com/products/docker-desktop
- AWS CLI: https://aws.amazon.com/cli/
- Terraform: https://www.terraform.io/downloads

---

## GitHubç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³A: æ—¢å­˜ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯ï¼ˆæ¨å¥¨ï¼‰

```bash
# GitHubã§ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
# https://github.com/your-org/WizCodeVerification

# ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/YOUR_USERNAME/WizCodeVerification.git
cd WizCodeVerification
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³B: æ–°è¦ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ

```bash
# æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ
gh repo create wiz-code-verification --public

# ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’ãƒ—ãƒƒã‚·ãƒ¥
cd WizCodeVerification
git init
git add .
git commit -m "Initial commit: Wiz Code verification project"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/wiz-code-verification.git
git push -u origin main
```

### 2. ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã®è¨­å®šï¼ˆæ¤œè¨¼ã®ç¹°ã‚Šè¿”ã—å®Ÿè¡Œç”¨ï¼‰

Wizæ¤œè¨¼ã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã‚’è¨­å®šã—ã¾ã™ï¼š

```bash
# ä¿è­·ãƒ–ãƒ©ãƒ³ãƒã®è¨­å®š
# 1. GitHubãƒªãƒã‚¸ãƒˆãƒª â†’ Settings â†’ Branches
# 2. "Add rule" ã‚’ã‚¯ãƒªãƒƒã‚¯
# 3. Branch name pattern: "main"
# 4. ä»¥ä¸‹ã‚’æœ‰åŠ¹åŒ–ï¼š
#    - Require pull request reviews before merging
#    - Require status checks to pass before merging

# æ¤œè¨¼ç”¨ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ
git checkout -b feature/test-s01-ide-integration
git push -u origin feature/test-s01-ide-integration

# æ¤œè¨¼å®Œäº†å¾Œã€ãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤ã—ã¦å†ä½œæˆã™ã‚‹ã“ã¨ã§ç¹°ã‚Šè¿”ã—æ¤œè¨¼å¯èƒ½
git checkout main
git branch -D feature/test-s01-ide-integration
git push origin --delete feature/test-s01-ide-integration
```

**æ¨å¥¨ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡**:
- `feature/test-s01-*`: S01ï¼ˆIDEçµ±åˆï¼‰ã®ãƒ†ã‚¹ãƒˆç”¨
- `feature/test-s02-*`: S02ï¼ˆVCSçµ±åˆï¼‰ã®ãƒ†ã‚¹ãƒˆç”¨
- `feature/test-s03-*`: S03ï¼ˆCI/CDçµ±åˆï¼‰ã®ãƒ†ã‚¹ãƒˆç”¨
- ä»¥é™ã€S04-S11ã‚‚åŒæ§˜

### 3. GitHub Secretsã®è¨­å®š

GitHub Actionsç”¨ã®Secretsã‚’è¨­å®šã—ã¾ã™ï¼š

```bash
# Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret

# å¿…è¦ãªSecrets:
WIZ_CLIENT_ID          # Wizã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID
WIZ_CLIENT_SECRET      # Wizã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ
AWS_ACCESS_KEY_ID      # AWSã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ï¼ˆPhase 2ä»¥é™ï¼‰
AWS_SECRET_ACCESS_KEY  # AWSã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ï¼ˆPhase 2ä»¥é™ï¼‰
AWS_REGION            # AWSãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä¾‹: us-east-1ï¼‰
```

---

## Wizèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š

### 1. Wizã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ

1. **Wizã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³**
   - https://app.wiz.io/

2. **Settings â†’ Service Accounts â†’ Create Service Account**
   - Name: `wiz-code-verification`
   - Description: `Wiz Codeæ¤œè¨¼ç”¨ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ`
   - Permissions:
     - `read:vulnerabilities`
     - `read:issues`
     - `create:scans`
     - `read:scans`

3. **èªè¨¼æƒ…å ±ã®å–å¾—**
   - Service Accountã‚’ä½œæˆã™ã‚‹ã¨ã€**Client ID**ã¨**Client Secret**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - **âš ï¸ é‡è¦**: Client Secretã¯ä¸€åº¦ã—ã‹è¡¨ç¤ºã•ã‚Œãªã„ãŸã‚ã€å¿…ãšå®‰å…¨ãªå ´æ‰€ã«ä¿å­˜ã—ã¦ãã ã•ã„

### 2. Wiz CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨èªè¨¼

```bash
# Wiz CLIã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆLinux/macOSï¼‰
curl -o wizcli https://downloads.wiz.io/wizcli/latest/wizcli-linux-amd64
chmod +x wizcli
sudo mv wizcli /usr/local/bin/

# Wiz CLIã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆWindowsï¼‰
# https://downloads.wiz.io/wizcli/latest/wizcli-windows-amd64.exe ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# wizcli.exe ã«ãƒªãƒãƒ¼ãƒ ã—ã¦PATHã«è¿½åŠ 

# èªè¨¼æƒ…å ±ã®è¨­å®šï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰
export WIZ_CLIENT_ID="your_client_id_here"
export WIZ_CLIENT_SECRET="your_client_secret_here"

# èªè¨¼ãƒ†ã‚¹ãƒˆ
wizcli auth --id "$WIZ_CLIENT_ID" --secret "$WIZ_CLIENT_SECRET"
```

### 3. èªè¨¼æƒ…å ±ã®æ°¸ç¶šåŒ–

#### Linux/macOS

```bash
# ~/.bashrc ã¾ãŸã¯ ~/.zshrc ã«è¿½åŠ 
echo 'export WIZ_CLIENT_ID="your_client_id_here"' >> ~/.bashrc
echo 'export WIZ_CLIENT_SECRET="your_client_secret_here"' >> ~/.bashrc
source ~/.bashrc
```

#### Windows (PowerShell)

```powershell
# ç’°å¢ƒå¤‰æ•°ã‚’æ°¸ç¶šçš„ã«è¨­å®š
[System.Environment]::SetEnvironmentVariable('WIZ_CLIENT_ID', 'your_client_id_here', 'User')
[System.Environment]::SetEnvironmentVariable('WIZ_CLIENT_SECRET', 'your_client_secret_here', 'User')

# ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ç¢ºèª
$env:WIZ_CLIENT_ID
$env:WIZ_CLIENT_SECRET
```

### 4. èªè¨¼æƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼ˆgitignoreæ¸ˆã¿ï¼‰
cat > .env << EOF
WIZ_CLIENT_ID=your_client_id_here
WIZ_CLIENT_SECRET=your_client_secret_here
EOF

# æ¨©é™ã‚’åˆ¶é™
chmod 600 .env
```

---

## AWSèªè¨¼æƒ…å ±ã®å–å¾—ã¨è¨­å®š

### 1. AWS IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆï¼ˆPhase 2ä»¥é™ã§å¿…è¦ï¼‰

1. **AWS Management Consoleã«ãƒ­ã‚°ã‚¤ãƒ³**
   - https://console.aws.amazon.com/

2. **IAM â†’ Users â†’ Create user**
   - User name: `wiz-code-verification`
   - Access type: `Programmatic access`

3. **å¿…è¦ãªæ¨©é™ã®ä»˜ä¸**

   ä»¥ä¸‹ã®ãƒãƒªã‚·ãƒ¼ã‚’ã‚¢ã‚¿ãƒƒãƒï¼š
   ```json
   {
     "Version": "2012-10-17",
     "Statement": [
       {
         "Effect": "Allow",
         "Action": [
           "ecr:*",
           "ecs:*",
           "ec2:*",
           "rds:*",
           "s3:*",
           "dynamodb:*",
           "logs:*",
           "iam:PassRole"
         ],
         "Resource": "*"
       }
     ]
   }
   ```

   **âš ï¸ æ³¨æ„**: æœ¬ç•ªç’°å¢ƒã§ã¯æœ€å°æ¨©é™ã®åŸå‰‡ã«å¾“ã£ã¦ãã ã•ã„

4. **èªè¨¼æƒ…å ±ã®å–å¾—**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆå®Œäº†å¾Œã€**Access Key ID**ã¨**Secret Access Key**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦å®‰å…¨ã«ä¿ç®¡

### 2. AWS CLIã®è¨­å®š

```bash
# AWS CLIã®èªè¨¼æƒ…å ±ã‚’è¨­å®š
aws configure

# ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š
AWS Access Key ID: AKIAIOSFODNN7EXAMPLE
AWS Secret Access Key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
Default region name: us-east-1
Default output format: json

# èªè¨¼ãƒ†ã‚¹ãƒˆ
aws sts get-caller-identity
```

### 3. è¤‡æ•°ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
# ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã—ã¦è¨­å®š
aws configure --profile wiz-verification

# ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨
export AWS_PROFILE=wiz-verification
aws sts get-caller-identity --profile wiz-verification
```

---

## ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd taskflow-app/backend
npm install

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd ../frontend
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°

```bash
cd taskflow-app/backend
cp .env.example .env

# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
cat > .env << 'EOF'
# Node.jsç’°å¢ƒ
NODE_ENV=development
PORT=3001

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PostgreSQLç”¨ï¼‰
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=taskflow
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres

# JWTè¨­å®šï¼ˆé–‹ç™ºç”¨ï¼‰
JWT_SECRET=development-jwt-secret-key-change-in-production

# AWSèªè¨¼æƒ…å ±ï¼ˆé–‹ç™ºç”¨ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆï¼‰
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1

# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«
LOG_LEVEL=debug
EOF
```

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°

```bash
cd taskflow-app/frontend

# .env.local ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cat > .env.local << 'EOF'
# APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
NEXT_PUBLIC_API_URL=http://localhost:3001

# é–‹ç™ºç”¨è¨­å®š
NODE_ENV=development
EOF
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³A: ãƒ­ãƒ¼ã‚«ãƒ«PostgreSQLã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

#### Docker Composeã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« docker-compose.yml ã‚’ä½œæˆ
cd WizCodeVerification
cat > docker-compose.yml << 'EOF'
version: '3.8'

services:
  postgres:
    image: postgres:15-alpine
    container_name: taskflow-postgres
    environment:
      POSTGRES_DB: taskflow
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - taskflow-network

volumes:
  postgres_data:

networks:
  taskflow-network:
    driver: bridge
EOF

# PostgreSQLã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•
docker-compose up -d postgres

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–
cd taskflow-app/backend
npm run dev
# åˆå›èµ·å‹•æ™‚ã«ãƒ†ãƒ¼ãƒ–ãƒ«ãŒè‡ªå‹•ä½œæˆã•ã‚Œã¾ã™
```

#### æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆPostgreSQLï¼‰

```bash
# PostgreSQL 15ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install postgresql-15

# macOS (Homebrew)
brew install postgresql@15

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ
sudo -u postgres psql << EOF
CREATE DATABASE taskflow;
CREATE USER taskflow_admin WITH PASSWORD 'postgres';
GRANT ALL PRIVILEGES ON DATABASE taskflow TO taskflow_admin;
\q
EOF

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–
cd taskflow-app/scripts/setup
chmod +x init-database.sh
# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç·¨é›†ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«DBæƒ…å ±ã«å¤‰æ›´ã—ã¦ã‹ã‚‰å®Ÿè¡Œ
# ./init-database.sh
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³B: AWS RDSã‚’ä½¿ç”¨ï¼ˆPhase 2ä»¥é™ï¼‰

```bash
# Terraformã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ
cd taskflow-app/terraform/environments/dev
terraform init
terraform apply

# RDSã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å–å¾—
terraform output rds_endpoint

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã® .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°
# DATABASE_HOST=<RDSã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ>
```

---

## å‹•ä½œç¢ºèª

### 1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®èµ·å‹•ç¢ºèª

```bash
cd taskflow-app/backend
npm run dev

# ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸ:
# TaskFlow Backend running on port 3001
# Environment: development
# WARNING: This application contains intentional vulnerabilities for Wiz verification
```

**ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**:
```bash
curl http://localhost:3001/health
# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›: {"status":"ok","timestamp":"2025-11-29T..."}
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®èµ·å‹•ç¢ºèª

```bash
cd taskflow-app/frontend
npm run dev

# ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸ:
# ready - started server on 0.0.0.0:3000, url: http://localhost:3000
```

**ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª**:
- http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
- TaskFlowãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸ

### 3. APIæ¥ç¶šã®ç¢ºèª

```bash
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆ
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "password123"
  }'

# ã‚¿ã‚¹ã‚¯ä¸€è¦§ã®å–å¾—
curl http://localhost:3001/api/tasks
```

### 4. Wizã‚¹ã‚­ãƒ£ãƒ³ã®ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¹ã‚­ãƒ£ãƒ³
cd WizCodeVerification
wizcli dir scan --path ./taskflow-app/backend --policy-hits-only

# æˆåŠŸã™ã‚Œã°è„†å¼±æ€§ãŒæ¤œå‡ºã•ã‚Œã¾ã™ï¼ˆæ„å›³çš„ãªè„†å¼±æ€§ï¼‰
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# ã‚¨ãƒ©ãƒ¼: ENOTFOUND taskflow-db.xxxxx.us-east-1.rds.amazonaws.com
# åŸå› : ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã¾ã ä½œæˆã•ã‚Œã¦ã„ãªã„ã€ã¾ãŸã¯æ¥ç¶šæƒ…å ±ãŒé–“é•ã£ã¦ã„ã‚‹

# è§£æ±ºæ–¹æ³•:
# 1. ãƒ­ãƒ¼ã‚«ãƒ«PostgreSQLã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
#    - docker-compose up -d postgres
#    - .env ã® DATABASE_HOST ã‚’ localhost ã«å¤‰æ›´

# 2. AWS RDSã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
#    - Terraformã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ
#    - RDSã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ .env ã«è¨­å®š
```

### ãƒãƒ¼ãƒˆç«¶åˆã‚¨ãƒ©ãƒ¼

```bash
# ã‚¨ãƒ©ãƒ¼: EADDRINUSE: address already in use :::3000
# åŸå› : ãƒãƒ¼ãƒˆ3000ã¾ãŸã¯3001ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹

# è§£æ±ºæ–¹æ³•:
# 1. ä½¿ç”¨ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
lsof -i :3000
lsof -i :3001

# 2. ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
kill -9 <PID>

# 3. ã¾ãŸã¯ã€ãƒãƒ¼ãƒˆç•ªå·ã‚’å¤‰æ›´
# backend/src/index.js ã® PORT ã‚’å¤‰æ›´
# frontend/.env.local ã® NEXT_PUBLIC_API_URL ã‚’å¤‰æ›´
```

### Wizèªè¨¼ã‚¨ãƒ©ãƒ¼

```bash
# ã‚¨ãƒ©ãƒ¼: Authentication failed
# åŸå› : èªè¨¼æƒ…å ±ãŒæ­£ã—ããªã„ã€ã¾ãŸã¯æœŸé™åˆ‡ã‚Œ

# è§£æ±ºæ–¹æ³•:
# 1. èªè¨¼æƒ…å ±ã‚’å†ç¢ºèª
echo $WIZ_CLIENT_ID
echo $WIZ_CLIENT_SECRET

# 2. å†èªè¨¼
wizcli auth --id "$WIZ_CLIENT_ID" --secret "$WIZ_CLIENT_SECRET"

# 3. æ–°ã—ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦æ¤œè¨¼ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ï¼š

1. **[æ¤œè¨¼å®Ÿè¡Œã‚¬ã‚¤ãƒ‰](./VERIFICATION_EXECUTION_GUIDE.md)** - å„ã‚·ãƒŠãƒªã‚ªã®å®Ÿè¡Œæ‰‹é †
2. **[Phase 1 README](../phase1-shift-left/README.md)** - ã‚·ãƒ•ãƒˆãƒ¬ãƒ•ãƒˆæ¤œè¨¼ã®è©³ç´°
3. **[SCENARIO_MAP.md](../../SCENARIO_MAP.md)** - å…¨ä½“æ§‹æˆå›³

---

## å‚è€ƒè³‡æ–™

- [Wizå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.wiz.io/)
- [AWS CLIè¨­å®šã‚¬ã‚¤ãƒ‰](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html)
- [Terraform AWS Provider](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)
- [PostgreSQLå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.postgresql.org/docs/)
